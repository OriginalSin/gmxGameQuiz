{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\src\\App.html"
  ],
  "sourcesContent": [
    "<Map urlParams={urlParams}\r\n\tbind:selectQuiz\r\n\tbind:sectionsList\r\n\tbind:quizList\r\n\tbind:layerID\r\n\tbind:layerGame\r\n\tbind:score\r\n\tbind:questions\r\n\tbind:question\r\n\tbind:resultQuestion\r\n/>\r\n{#if question}\r\n\t<div class=\"question\">\r\n\t\t{question ? question.properties[1] : ''}\r\n\t\t{#if resultQuestion}\r\n\t\t\t<hr />\r\n\t\t\t<div class=\"question-result\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t{#each currentScore as it}\r\n\t\t\t\t\t<li>{it.question.properties[1]}: <b>{it.strLen}</b></li>\r\n\t\t\t\t{/each}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<hr />\r\n\t\t\t\tОбщий результат: {currentItog}\r\n\t\t\t</div>\r\n\t\t\t<br>\r\n\t\t\t<button class=\"start\" on:click=\"nextQuestion()\">Продолжить</button>\r\n\t\t\t<button class=\"start\" on:click=\"set({question: false})\">Выбрать игру</button>\r\n\t\t{/if}\r\n\t</div>\r\n{:else}\r\n\t<div class=\"scrim\"></div>\r\n\t<div class=\"controls\">\r\n\t{#if quizList}\r\n\t\t<h1 class=\"title\">Выбрать игру</h1>\r\n\t\t<ul class=\"selectQuiz\">\r\n\t\t{#each quizList as it}\r\n\t\t\t<li on:click=\"set({layerID: it.layerID, selectQuiz: false, quizList: false})\">{it.title}</li>\r\n\t\t{/each}\r\n\t\t</ul>\r\n\t{:elseif !layerGame}\r\n\t\t<div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\r\n\t{:else}\r\n\t\t<h1 class=\"title\">{props.title}</h1>\r\n\t\t<p class=\"description\">{props.description}</p>\r\n\t\t{#if sectionsList}\r\n\t\t\t<h1 class=\"title\">Выбор рубрик</h1>\r\n\t\t\t<ul class=\"selectSectionsList\">\r\n\t\t\t{#each Object.keys(sectionsList) as it}\r\n\t\t\t\t<li><input on:change=\"checkSection(it, this.checked)\" type=\"checkbox\" checked/>{it}</li>\r\n\t\t\t{/each}\r\n\t\t\t</ul>\r\n\t\t{/if}\r\n\t\t<button class=\"start\" disabled=\"{isSectionsEmpty}\" on:click=\"start()\">Начать</button>\r\n\t\t{#if !sectionsList}\r\n\t\t\t<button class=\"start\" on:click=\"set({selectQuiz: true})\">Выбрать другую игру</button>\r\n\t\t{/if}\r\n\t\t{#if props.MetaProperties.video && props.MetaProperties.video.Value}\r\n\t\t\t<div><iframe title=\"video\" width=\"100%\" height=\"315\" src=\"{props.MetaProperties.video.Value}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe></div>\r\n\t\t{/if}\r\n\t\t{#if score[props.name]}\r\n\t\t\t<ul>\r\n\t\t\t{#each score[props.name] as it}\r\n\t\t\t<li>{it} баллов</li>\r\n\t\t\t{/each}\r\n\t\t\t</ul>\r\n\t\t{/if}\r\n\t{/if}\r\n\t</div>\r\n{/if}\r\n\r\n<script>\r\n\tconst serverBase = window.serverBase || '//maps.kosmosnimki.ru/';\r\n\timport Map from './Map.html';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\turlParams: {},\r\n\t\t\t\tquizList: null,\r\n\t\t\t\tselectQuiz: null,\r\n\t\t\t\tprops: {},\r\n\t\t\t\tcurrentScore: [],\r\n\t\t\t\tscore: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tprops: ({ layerGame }) => layerGame ? layerGame.getGmxProperties() : {},\r\n\t\t\tcurrentItog: ({ currentScore }) => L.gmxUtil.prettifyDistance(currentScore.reduce((p, c) => p + c.len, 0)),\r\n\t\t\tisSectionsEmpty: ({ sectionsList }) => {\r\n\t\t\t\tlet res = false;\r\n\t\t\t\tif (sectionsList) {\r\n\t\t\t\t\tres = true;\r\n\t\t\t\t\tfor(let key in sectionsList) {\r\n\t\t\t\t\t\tif (sectionsList[key]) { res = false; break; }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckSection(key, flag) {\r\n\t\t\t\t// console.log('checkSection', key, flag);\r\n\t\t\t\tlet {sectionsList} = this.get();\r\n\t\t\t\tsectionsList[key] = flag;\r\n\t\t\t\tthis.set({sectionsList: sectionsList});\r\n\t\t\t},\r\n\t\t\tstart() {\r\n\t\t\t\tthis.nextQuestion(0, true);\r\n\t\t\t},\r\n\t\t\tnextQuestion(sc, clearCurrentScore) {\r\n\t\t\t\tlet {questions, props, score, currentScore} = this.get(),\r\n\t\t\t\t\tquestion = questions.shift();\r\n\t\t\t\tthis.sc = this.sc || 0;\r\n\t\t\t\tthis.sc += (sc || 0);\r\n\t\t\t\tif (!question) {\r\n\t\t\t\t\tscore = score || {};\r\n\t\t\t\t\tlet id = props.name,\r\n\t\t\t\t\t\tarr = score[id] || [];\r\n\t\t\t\t\tarr.push(this.sc);\r\n\t\t\t\t\tlet len = arr.length;\r\n\t\t\t\t\tscore[id] = arr.slice(len - 5, len);\r\n\t\t\t\t\twindow.localStorage.setItem('_gameQuiz_', JSON.stringify(score));\r\n\t\t\t\t}\r\n\t\t\t\tif (clearCurrentScore) { currentScore = []; }\r\n\t\t\t\tthis.set({questions: questions, question: question, resultQuestion: false, currentScore: currentScore});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomponents: {\r\n\t\t\tMap\r\n\t\t},\r\n\r\n\t\tonstate({ changed, current, previous }) {\r\n\t\t\t// console.log('in onstate', this);\r\n\t\t\tif (changed.resultQuestion && current.resultQuestion) {\r\n\t\t\t\tlet {currentScore} = this.get();\r\n\t\t\t\tcurrentScore.push(current.resultQuestion);\r\n\t\t\t\tthis.set({currentScore: currentScore});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.question {\r\n\tposition: absolute;\r\n    margin: 10px;\r\n    right: 0;\r\n    top: 0;\r\n\tz-index: 1000;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 13px;\r\n\tborder-radius: 5px;\r\n\tbox-shadow: 0 1px 7px rgba(0,0,0,0.65);\r\n\tfont-weight: bold;\r\n}\r\n.question li {\r\n\tfont-weight: initial;\r\n    list-style-type: decimal;\r\n}\r\n.controls {\r\n\tposition: absolute;\r\n    margin: 80px;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n\tz-index: 1000;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 13px;\r\n\tborder-radius: 5px;\r\n\tbox-shadow: 0 1px 7px rgba(0,0,0,0.65);\r\n}\r\n\r\n.selectQuiz {\r\n\tcursor: pointer;\r\n}\r\n.selectSectionsList {\r\n\tlist-style: none;\r\n}\r\n\r\n.scrim {\r\n  position: fixed;\r\n  z-index: 1000;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n}\r\n.lds-ellipsis {\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 64px;\r\n  height: 47px;\r\n}\r\n.lds-ellipsis div {\r\n  position: absolute;\r\n  top: 20px;\r\n  width: 11px;\r\n  height: 11px;\r\n  border-radius: 50%;\r\n  background: #70cbe0;\r\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n}\r\n.lds-ellipsis div:nth-child(1) {\r\n  left: 6px;\r\n  animation: lds-ellipsis1 0.6s infinite;\r\n}\r\n.lds-ellipsis div:nth-child(2) {\r\n  left: 6px;\r\n  animation: lds-ellipsis2 0.6s infinite;\r\n}\r\n.lds-ellipsis div:nth-child(3) {\r\n  left: 26px;\r\n  animation: lds-ellipsis2 0.6s infinite;\r\n}\r\n.lds-ellipsis div:nth-child(4) {\r\n  left: 45px;\r\n  animation: lds-ellipsis3 0.6s infinite;\r\n}\r\n@keyframes lds-ellipsis1 {\r\n  0% {\r\n    transform: scale(0);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n@keyframes lds-ellipsis3 {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  100% {\r\n    transform: scale(0);\r\n  }\r\n}\r\n@keyframes lds-ellipsis2 {\r\n  0% {\r\n    transform: translate(0, 0);\r\n  }\r\n  100% {\r\n    transform: translate(19px, 0);\r\n  }\r\n}\r\n\r\n</style>\r\n"
  ],
  "names": [],
  "mappings": "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"
}
var app=function(){"use strict";function t(){}function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,e){for(var i in e)t[i]=1;return t}function s(t){t()}function o(t,e){t.appendChild(e)}function n(t,e,i){t.insertBefore(e,i)}function r(t){t.parentNode.removeChild(t)}function a(t,e){for(var i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function l(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function c(t,e,i){t.addEventListener(e,i,!1)}function d(t,e,i){t.removeEventListener(e,i,!1)}function m(t,e){t.data=""+e}function h(t,e,i){t.style.setProperty(e,i)}function p(){return Object.create(null)}function v(t){t._lock=!0,y(t._beforecreate),y(t._oncreate),y(t._aftercreate),t._lock=!1}function f(t,e){t._handlers=p(),t._slots=p(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function y(t){for(;t&&t.length;)t.shift()()}var g={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var i=t in this._handlers&&this._handlers[t].slice();if(i)for(var s=0;s<i.length;s+=1){var o=i[s];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}},on:function(t,e){var i=this._handlers[t]||(this._handlers[t]=[]);return i.push(e),{cancel:function(){var t=i.indexOf(e);~t&&i.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||v(this.root)},_recompute:t,_set:function(t){var i=this._state,s={},o=!1;for(var n in t=e(this._staged,t),this._staged={},t)this._differs(t[n],i[n])&&(s[n]=o=!0);o&&(this._state=e(e({},i),t),this._recompute(s,this._state),this._bind&&this._bind(s,this._state),this._fragment&&(this.fire("state",{changed:s,current:this._state,previous:i}),this._fragment.p(s,this._state),this.fire("update",{changed:s,current:this._state,previous:i})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};window.serverBase;var _={styleHook(t){let{question:e}=this.get();return e&&this.polyline&&t.id===e.id?{}:null},getSections(t,e){let i=e.getTileAttributeIndexes(),s=e.getGmxProperties().MetaProperties,o=(s.count&&Number(s.count.Value),null);i.section&&(o={},t.forEach(function(t){let e=t.properties[i.section];o[e]=!0})),this.allData=t,this.set({sectionsList:o})},reBuildQuestions(t){let{layerGame:e}=this.get(),i=e.getGmxProperties().MetaProperties,s=i.count?Number(i.count.Value):10,o=e.getTileAttributeIndexes(),n=[],r={};this.allData.sort(()=>Date.now()*Math.random()).forEach(function(e){let i=e.properties,s=i[0],a=i[o.section];!r[s]&&t[a]&&(n.push(e),r[s]=!0)}),this.set({questions:n.slice(0,s),reBuildQuestions:!1})},setLayerGame(t){let e=this.gmxMap.layersByID[t]||this.gmxMap.layers[Math.floor(this.gmxMap.layers.length*Math.random())];if(e){let t=e.getDataManager(),i=e.getGmxProperties().name,s=t.addObserver({type:"resend",layerID:i,callback:function(t){t.count&&(this.getSections(t.added,e),s.deactivate())}.bind(this)});e.setStyleHook(this.styleHook.bind(this)),this.map.addLayer(e);let o=localStorage.getItem("_gameQuiz_"),n=o?JSON.parse(o):{};this.set({layerGame:e,score:n})}},showQuestionResult(t){this.polyline&&this.map.removeLayer(this.polyline);let{question:e,emotions:i}=this.get(),s=e.properties,o=L.geoJSON(L.gmxUtil.geometryToGeoJSON(s[s.length-1],!0,!0)).getLayers(),n=L.GeometryUtil.closestLayer(this.map,o,this._latlng),r=L.GeometryUtil.closest(this.map,n.layer,this._latlng,!1),a=e.dataOption.bounds.toLatLngBounds(!0).contains(this._latlng),l=L.geodesic([[r,this._latlng]],{color:"red"}).addTo(this.map);this.map.fitBounds(l.getBounds());let u=l.toGeoJSON().geometry;this.polyline=l;let c,d=L.gmxUtil.geoJSONGetLength(u),m=Math.round(d/1e3),h=L.gmxUtil.getGeoJSONSummary(u),p={},v=0;for(let t,e,s=0,o=i.emotion.length;s<o;s++){if((t=i.emotion[s]).error>m||s===o-1){let n=s===o-1?t:e||t;c={title:i.rank[n.rank],color:n.color,score:h};break}e=t}a?(v=10,c={title:"ВАУ, КРУТО!",score:""},p.ok=v+" баллов",this.audioStarted&&this.audio.stop(0),this.audioStart(11.74689342403628,3.82984126984127)):this.audioStart(8.50453514739229,.20950113378684806),p.question=e,p.len=a?0:d,p.strLen=a?"0":h,this.set({resultQuestion:p,emotion:c})},nextQuestion(){this.map.closePopup(),this.map.removeLayer(this.polyline),this.polyline=null,this.root.nextQuestion(this.sc)},setPopupContent(t,e){let{question:i}=this.get(),s=L.DomUtil.create("div",""),o=L.DomUtil.create("div","",s),n=L.DomUtil.create("button","",s);if(t){let s=L.gmxUtil.geoJSONGetLength(t),r=L.gmxUtil.getGeoJSONSummary(t),a={},l=0;e?(l=10,o.innerHTML="Отлично вам начислено: <b>"+l+"</b> баллов",a.ok=l+" баллов",this.audioStarted&&this.audio.stop(0),this.audioStart(11.74689342403628,3.82984126984127)):(o.innerHTML="Растояние от центра объекта:<br><b>"+r+"</b>",this.audioStart(8.50453514739229,.20950113378684806)),a.question=i,a.len=s,a.strLen=r,this.set({resultQuestion:a}),this.sc=l,n.innerHTML="Следующий вопрос",L.DomEvent.on(n,"click",this.nextQuestion,this)}else o.innerHTML="Я считаю что это здесь!",n.innerHTML="Показать",L.DomEvent.on(n,"click",this.showQuestionResult,this);this.popup.setContent(s),this.popupContent=s},clickMap(t){this.marker&&this.map.removeLayer(this.marker),this._latlng=t.latlng,this.marker=L.marker(this._latlng,{icon:L.divIcon({className:"my-div-icon",iconSize:[4,4],iconAnchor:[10,10]})}).addTo(this.map),this.set({point:!0})},audioStart(t,e){if(this.sound){let i=new(window.AudioContext||window.webkitAudioContext),s=i.createBufferSource(),o=new XMLHttpRequest;o.open("GET","mp3/audio.mp3",!0),o.responseType="arraybuffer",o.onload=function(){i.decodeAudioData(o.response,function(o){s.buffer=o,s.start(i.currentTime+1,t,e),s.connect(i.destination)},function(t){console.log("Error with decoding audio data"+t.err)})},o.send()}},createMap(t){let e=t.state||{},i=t.mapID||"A557835E1B2344479C092FBB0158B529",s=t.layerID||"",o=(t.apiKey,e.map?e.map.position:{});this.sound=t.sound;var n=1==t.base?L.tileLayer("//tilessputnik.ru/{z}/{x}/{y}.png",{attribution:'<a href="http://maps.sputnik.ru">Спутник</a> © Ростелеком | © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxNativeZoom:18,maxZoom:21}):L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/satellite-v9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoia29zbW9zbmlta2kiLCJhIjoiY2lvbW1tNXN0MDAwdnc4bHg5ZWw2YXJtYSJ9.ON9Ovi3fuHc5RAipmLb2EQ",{attribution:'&copy; <a href="//mapbox.com/">mapbox</a>',maxNativeZoom:18,maxZoom:21});let r=new L.Map("map",{attribution:'&copy; <a href="//scanex.ru/">scanex</a>',allWorld:!0,generalized:!1,layers:[n],center:new L.LatLng(o.y||26,o.x||83),zoom:o.z||7}).on("click",this.clickMap.bind(this),this);r.zoomControl.setPosition("bottomright");let a=[];L.gmx.loadMap(i,{leafletMap:r}).then(function(t){t.layers.forEach(function(t){r.removeLayer(t);let e=t.getGmxProperties(),i=e.MetaProperties,s={};for(let t in i){let e=i[t].Value;s[t]=e>0?Number(e):e}a.push({gmxLayer:t,metaHash:s,title:e.title,layerID:e.name}),t._gameZoom=s.zoom||3}),this.quizList=a,this.gmxMap=t,s?this.setLayerGame(s):this.set({quizList:this.quizList})}.bind(this)),this.map=r}};function b({changed:t,current:e,previous:i}){if(t.selectQuiz&&e.selectQuiz)this.marker&&(this.map.removeLayer(this.marker),this.marker=null),this.polyline&&(this.map.removeLayer(this.polyline),this.polyline=null),this.set({quizList:this.quizList});else if(t.layerID&&e.layerID)this.setLayerGame(e.layerID);else if(t.question&&e.question){let{layerGame:t}=this.get();this.marker&&(this.map.removeLayer(this.marker),this.marker=null),this.polyline&&(this.map.removeLayer(this.polyline),this.polyline=null),this.map.setZoom(t._gameZoom)}else e.reBuildQuestions||t.sectionsList&&e.sectionsList?this.reBuildQuestions(e.sectionsList):t.calc&&e.calc&&this.showQuestionResult()}function q(o){var a,u;f(this,o),this._state=e({layerGame:null,quizList:null,questions:null,permalink:null,map:null},o.data),this._intro=!!o.intro,this._handlers.state=[b],b.call(this,{changed:i({},this._state),current:this._state}),this._fragment=(this._state,{c(){(a=l("div")).id="map"},m(t,e){n(t,a,e),u=!0},p:t,i(t,e){u||this.m(t,e)},o:s,d(t){t&&r(a)}}),this.root._oncreate.push(()=>{(function(){let{urlParams:t}=this.get();this.createMap(t)}).call(this),this.fire("update",{changed:i({},this._state),current:this._state})}),o.target&&(this._fragment.c(),this._mount(o.target,o.anchor),v(this)),this._intro=!0}e(q.prototype,g),e(q.prototype,_);window.serverBase;var Q={checkSection(t,e){let{sectionsList:i}=this.get();i[t]=e,this.set({sectionsList:i})},start(){this.set({reBuildQuestions:!0,quizList:null,layerID:"124D910DFC294C03A882F8FBCE1AC4E4"}),this.nextQuestion(0,!0)},nextQuestion(t,e){let{questions:i,props:s,score:o,currentScore:n}=this.get(),r=i.shift();if(this.sc=this.sc||0,this.sc+=t||0,!r){o=o||{};let t=s.name,e=o[t]||[];e.push(this.sc);let i=e.length;o[t]=e.slice(i-5,i),window.localStorage.setItem("_gameQuiz_",JSON.stringify(o))}e&&(n=[]),this.set({questions:i,question:r,point:!1,calc:!1,resultQuestion:!1,currentScore:n})}};function x({changed:t,current:e,previous:i}){if(t.resultQuestion&&e.resultQuestion){let{currentScore:t}=this.get();t.push(e.resultQuestion),this.set({currentScore:t})}}function S(t,e){var i;return{c(){(i=l("div")).className="scrim svelte-1dd6u8b"},m(t,e){n(t,i,e)},d(t){t&&r(i)}}}function z(t,e){var i;function s(e){t.set({question:""})}return{c(){(i=l("button")).textContent="Начать игру заново",c(i,"click",s),i.className="start svelte-1dd6u8b",i.disabled=e.isSectionsEmpty},m(t,e){n(t,i,e)},p(t,e){t.isSectionsEmpty&&(i.disabled=e.isSectionsEmpty)},d(t){t&&r(i),d(i,"click",s)}}}function k(t,e){var i,s,a,c,d,h=e.it.question.properties[1],p=e.it.strLen;return{c(){i=l("li"),s=u(h),a=u(": "),c=l("b"),d=u(p),i.className="svelte-1dd6u8b"},m(t,e){n(t,i,e),o(i,s),o(i,a),o(i,c),o(c,d)},p(t,e){t.currentScore&&h!==(h=e.it.question.properties[1])&&m(s,h),t.currentScore&&p!==(p=e.it.strLen)&&m(d,p)},d(t){t&&r(i)}}}function N(t,e){var i,s,p,v,f,y,g,L,_,b,q,Q,x,S,z,N,D,G=e.emotion.title,I=e.emotion.score;function B(e){t.nextQuestion()}for(var E=e.currentScore,M=[],w=0;w<E.length;w+=1)M[w]=k(0,P(e,E,w));return{c(){i=l("div"),s=l("span"),p=u(G),v=u("\r\n\t\t\t\t\t"),f=l("span"),y=u(I),g=u("\r\n\t\t\t\t"),(L=l("button")).textContent="Следующий вопрос",_=u("\r\n\t\t\t\t"),b=l("hr"),q=u("\r\n\t\t\t\t"),Q=l("div"),x=l("ul");for(var t=0;t<M.length;t+=1)M[t].c();S=u("\r\n\t\t\t\t\t"),z=l("hr"),N=u("\r\n\t\t\t\t\tОбщий результат: "),D=u(e.currentItog),s.className="emotionTitle",h(s,"color",e.emotion.color),f.className="emotionScore svelte-1dd6u8b",i.className="emotion svelte-1dd6u8b",c(L,"click",B),L.className="start svelte-1dd6u8b",Q.className="question-result svelte-1dd6u8b"},m(t,e){n(t,i,e),o(i,s),o(s,p),o(i,v),o(i,f),o(f,y),n(t,g,e),n(t,L,e),n(t,_,e),n(t,b,e),n(t,q,e),n(t,Q,e),o(Q,x);for(var r=0;r<M.length;r+=1)M[r].m(x,null);o(Q,S),o(Q,z),o(Q,N),o(Q,D)},p(t,e){if(t.emotion&&G!==(G=e.emotion.title)&&m(p,G),t.emotion&&h(s,"color",e.emotion.color),t.emotion&&I!==(I=e.emotion.score)&&m(y,I),t.currentScore){E=e.currentScore;for(var i=0;i<E.length;i+=1){const s=P(e,E,i);M[i]?M[i].p(t,s):(M[i]=k(0,s),M[i].c(),M[i].m(x,null))}for(;i<M.length;i+=1)M[i].d(1);M.length=E.length}t.currentItog&&m(D,e.currentItog)},d(t){t&&(r(i),r(g),r(L)),d(L,"click",B),t&&(r(_),r(b),r(q),r(Q)),a(M,t)}}}function D(e,i){var s,o,a;function m(t){e.set({calc:!0})}return{c(){(s=l("p")).textContent="Вы уверены?",o=u("\r\n\t\t\t"),(a=l("button")).textContent="Подтвердить выбор",s.className="standart svelte-1dd6u8b",c(a,"click",m),a.className="start svelte-1dd6u8b"},m(t,e){n(t,s,e),n(t,o,e),n(t,a,e)},p:t,d(t){t&&(r(s),r(o),r(a)),d(a,"click",m)}}}function G(e,i){var s;return{c(){(s=l("p")).textContent="Кликните по карте в предпологаемом месте расположения объекта",s.className="standart svelte-1dd6u8b"},m(t,e){n(t,s,e)},p:t,d(t){t&&r(s)}}}function I(t,e){var i,s,a,h=e.it;return{c(){var o,n;i=l("li"),s=l("input"),a=u(h),s._svelte={component:t,ctx:e},c(s,"change",A),o="type",n="checkbox",s.setAttribute(o,n),s.checked=!0},m(t,e){n(t,i,e),o(i,s),o(i,a)},p(t,i){e=i,s._svelte.ctx=e,(t.Object||t.sectionsList)&&h!==(h=e.it)&&m(a,h)},d(t){t&&r(i),d(s,"change",A)}}}function B(t,e){for(var i,s,o,m,h,p=e.Object.keys(e.sectionsList),v=[],f=0;f<p.length;f+=1)v[f]=I(t,T(e,p,f));function y(e){t.start()}return{c(){(i=l("h1")).textContent="Рубрики",s=u("\r\n\t\t\t"),o=l("ul");for(var t=0;t<v.length;t+=1)v[t].c();m=u("\r\n\t\t\t"),(h=l("button")).textContent="Начать игру",i.className="section",o.className="selectSectionsList svelte-1dd6u8b",c(h,"click",y),h.className="start svelte-1dd6u8b",h.disabled=e.isSectionsEmpty},m(t,e){n(t,i,e),n(t,s,e),n(t,o,e);for(var r=0;r<v.length;r+=1)v[r].m(o,null);n(t,m,e),n(t,h,e)},p(e,i){if(e.Object||e.sectionsList){p=i.Object.keys(i.sectionsList);for(var s=0;s<p.length;s+=1){const n=T(i,p,s);v[s]?v[s].p(e,n):(v[s]=I(t,n),v[s].c(),v[s].m(o,null))}for(;s<v.length;s+=1)v[s].d(1);v.length=p.length}e.isSectionsEmpty&&(h.disabled=i.isSectionsEmpty)},d(t){t&&(r(i),r(s),r(o)),a(v,t),t&&(r(m),r(h)),d(h,"click",y)}}}function E(e,i){var s;return{c(){(s=l("div")).innerHTML='<div class="lds-ellipsis svelte-1dd6u8b"><div class="svelte-1dd6u8b"></div><div class="svelte-1dd6u8b"></div><div class="svelte-1dd6u8b"></div><div class="svelte-1dd6u8b"></div></div>',s.className="center svelte-1dd6u8b"},m(t,e){n(t,s,e)},p:t,d(t){t&&r(s)}}}function M(t,e){var i,s,o,a,m;function h(e){t.set({quizList:null,layerID:"124D910DFC294C03A882F8FBCE1AC4E4"})}return{c(){(i=l("h1")).textContent="Добро пожаловать!",s=u("\r\n\t\t"),(o=l("p")).textContent="Мы рады приветствовать вас в нашем интерактивном географическом квесте!\r\n\tВ этой игре мы предлагаем выбрать рубрики, в рамках воторых вам предстоит находить места на карте, зная только их названия. Думаете просто?",a=u("\r\n\t\t"),(m=l("button")).textContent="Давайте проверим!",i.className="title",c(m,"click",h),m.className="start svelte-1dd6u8b",m.disabled=e.isSectionsEmpty},m(t,e){n(t,i,e),n(t,s,e),n(t,o,e),n(t,a,e),n(t,m,e)},p(t,e){t.isSectionsEmpty&&(m.disabled=e.isSectionsEmpty)},d(t){t&&(r(i),r(s),r(o),r(a),r(m)),d(m,"click",h)}}}function w(t,e){var i,s,a,c=e.question?e.question.properties[1]:"";function d(t){return t.resultQuestion?N:t.point?D:G}var h=d(e),p=h(t,e);return{c(){i=l("div"),s=u(c),a=u("?\r\n\t\t\t"),p.c(),i.className="question svelte-1dd6u8b"},m(t,e){n(t,i,e),o(i,s),o(i,a),p.m(i,null)},p(e,o){e.question&&c!==(c=o.question?o.question.properties[1]:"")&&m(s,c),h===(h=d(o))&&p?p.p(e,o):(p.d(1),(p=h(t,o)).c(),p.m(i,null))},d(t){t&&r(i),p.d()}}}function C(e,i){var s;return{c(){(s=l("div")).innerHTML='<div class="lds-ellipsis svelte-1dd6u8b"><div class="svelte-1dd6u8b"></div><div class="svelte-1dd6u8b"></div><div class="svelte-1dd6u8b"></div><div class="svelte-1dd6u8b"></div></div>',s.className="center svelte-1dd6u8b"},m(t,e){n(t,s,e)},p:t,d(t){t&&r(s)}}}function O(t,e){var i;function s(t){return t.sectionsList?B:E}var o=s(e),a=o(t,e);return{c(){i=l("div"),a.c(),i.className="subcontent"},m(t,e){n(t,i,e),a.m(i,null)},p(e,n){o===(o=s(n))&&a?a.p(e,n):(a.d(1),(a=o(t,n)).c(),a.m(i,null))},d(t){t&&r(i),a.d()}}}function P(t,e,i){const s=Object.create(t);return s.it=e[i],s.each_value=e,s.it_index=i,s}function T(t,e,i){const s=Object.create(t);return s.it=e[i],s.each_value_1=e,s.it_index_1=i,s}function A(t){const{component:e,ctx:i}=this._svelte;e.checkSection(i.it,this.checked)}function H(t){f(this,t),this._state=e(e({Object:Object},{urlParams:{},quizList:null,selectQuiz:null,sectionsList:null,layerID:"",layerGame:!1,score:!1,questions:!1,question:!1,point:!1,calc:!1,emotion:!1,emotions:emotions,resultQuestion:!1,reBuildQuestions:!1,props:{},currentScore:[],score:null}),t.data),this._recompute({layerGame:1,currentScore:1,sectionsList:1},this._state),this._intro=!!t.intro,this._handlers.state=[x],x.call(this,{changed:i({},this._state),current:this._state}),this._fragment=function(t,e){var i,s,a,c,d,m,h,p={},v={urlParams:e.urlParams};void 0!==e.selectQuiz&&(v.selectQuiz=e.selectQuiz,p.selectQuiz=!0),void 0!==e.sectionsList&&(v.sectionsList=e.sectionsList,p.sectionsList=!0),void 0!==e.quizList&&(v.quizList=e.quizList,p.quizList=!0),void 0!==e.layerID&&(v.layerID=e.layerID,p.layerID=!0),void 0!==e.layerGame&&(v.layerGame=e.layerGame,p.layerGame=!0),void 0!==e.score&&(v.score=e.score,p.score=!0),void 0!==e.questions&&(v.questions=e.questions,p.questions=!0),void 0!==e.question&&(v.question=e.question,p.question=!0),void 0!==e.point&&(v.point=e.point,p.point=!0),void 0!==e.calc&&(v.calc=e.calc,p.calc=!0),void 0!==e.emotion&&(v.emotion=e.emotion,p.emotion=!0),void 0!==e.emotions&&(v.emotions=e.emotions,p.emotions=!0),void 0!==e.resultQuestion&&(v.resultQuestion=e.resultQuestion,p.resultQuestion=!0),void 0!==e.reBuildQuestions&&(v.reBuildQuestions=e.reBuildQuestions,p.reBuildQuestions=!0);var f=new q({root:t.root,store:t.store,data:v,_bind(e,i){var s={};!p.selectQuiz&&e.selectQuiz&&(s.selectQuiz=i.selectQuiz),!p.sectionsList&&e.sectionsList&&(s.sectionsList=i.sectionsList),!p.quizList&&e.quizList&&(s.quizList=i.quizList),!p.layerID&&e.layerID&&(s.layerID=i.layerID),!p.layerGame&&e.layerGame&&(s.layerGame=i.layerGame),!p.score&&e.score&&(s.score=i.score),!p.questions&&e.questions&&(s.questions=i.questions),!p.question&&e.question&&(s.question=i.question),!p.point&&e.point&&(s.point=i.point),!p.calc&&e.calc&&(s.calc=i.calc),!p.emotion&&e.emotion&&(s.emotion=i.emotion),!p.emotions&&e.emotions&&(s.emotions=i.emotions),!p.resultQuestion&&e.resultQuestion&&(s.resultQuestion=i.resultQuestion),!p.reBuildQuestions&&e.reBuildQuestions&&(s.reBuildQuestions=i.reBuildQuestions),t._set(s),p={}}});t.root._beforecreate.push(()=>{f._bind({selectQuiz:1,sectionsList:1,quizList:1,layerID:1,layerGame:1,score:1,questions:1,question:1,point:1,calc:1,emotion:1,emotions:1,resultQuestion:1,reBuildQuestions:1},f.get())});var y=!e.question&&S(),g=e.question&&z(t,e);function L(t){return t.quizList?M:t.question?w:t.layerGame?O:C}var _=L(e),b=_(t,e);return{c(){f._fragment.c(),i=u("\r\n"),y&&y.c(),s=u("\r\n"),a=l("div"),c=l("div"),g&&g.c(),d=u("\r\n\t"),m=l("div"),b.c(),c.className="title bg svelte-1dd6u8b",m.className="content svelte-1dd6u8b",a.className="controls svelte-1dd6u8b"},m(t,e){f._mount(t,e),n(t,i,e),y&&y.m(t,e),n(t,s,e),n(t,a,e),o(a,c),g&&g.m(c,null),o(a,d),o(a,m),b.m(m,null),h=!0},p(i,o){e=o;var n={};i.urlParams&&(n.urlParams=e.urlParams),!p.selectQuiz&&i.selectQuiz&&(n.selectQuiz=e.selectQuiz,p.selectQuiz=void 0!==e.selectQuiz),!p.sectionsList&&i.sectionsList&&(n.sectionsList=e.sectionsList,p.sectionsList=void 0!==e.sectionsList),!p.quizList&&i.quizList&&(n.quizList=e.quizList,p.quizList=void 0!==e.quizList),!p.layerID&&i.layerID&&(n.layerID=e.layerID,p.layerID=void 0!==e.layerID),!p.layerGame&&i.layerGame&&(n.layerGame=e.layerGame,p.layerGame=void 0!==e.layerGame),!p.score&&i.score&&(n.score=e.score,p.score=void 0!==e.score),!p.questions&&i.questions&&(n.questions=e.questions,p.questions=void 0!==e.questions),!p.question&&i.question&&(n.question=e.question,p.question=void 0!==e.question),!p.point&&i.point&&(n.point=e.point,p.point=void 0!==e.point),!p.calc&&i.calc&&(n.calc=e.calc,p.calc=void 0!==e.calc),!p.emotion&&i.emotion&&(n.emotion=e.emotion,p.emotion=void 0!==e.emotion),!p.emotions&&i.emotions&&(n.emotions=e.emotions,p.emotions=void 0!==e.emotions),!p.resultQuestion&&i.resultQuestion&&(n.resultQuestion=e.resultQuestion,p.resultQuestion=void 0!==e.resultQuestion),!p.reBuildQuestions&&i.reBuildQuestions&&(n.reBuildQuestions=e.reBuildQuestions,p.reBuildQuestions=void 0!==e.reBuildQuestions),f._set(n),p={},e.question?y&&(y.d(1),y=null):y||((y=S()).c(),y.m(s.parentNode,s)),e.question?g?g.p(i,e):((g=z(t,e)).c(),g.m(c,null)):g&&(g.d(1),g=null),_===(_=L(e))&&b?b.p(i,e):(b.d(1),(b=_(t,e)).c(),b.m(m,null))},i(t,e){h||this.m(t,e)},o(t){h&&(f&&f._fragment.o(t),h=!1)},d(t){f.destroy(t),t&&r(i),y&&y.d(t),t&&(r(s),r(a)),g&&g.d(),b.d()}}}(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:i({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),v(this)),this._intro=!0}e(H.prototype,g),e(H.prototype,Q),H.prototype._recompute=function(t,e){t.layerGame&&this._differs(e.props,e.props=function({layerGame:t}){return t?t.getGmxProperties():{}}(e))&&(t.props=!0),t.currentScore&&this._differs(e.currentItog,e.currentItog=function({currentScore:t}){return L.gmxUtil.prettifyDistance(t.reduce((t,e)=>t+e.len,0))}(e))&&(t.currentItog=!0),t.sectionsList&&this._differs(e.isSectionsEmpty,e.isSectionsEmpty=function({sectionsList:t}){let e=!1;if(t){e=!0;for(let i in t)if(t[i]){e=!1;break}}return e}(e))&&(t.isSectionsEmpty=!0)};let J=(()=>{let t={};return location.search.substr(1).split("&").forEach(e=>{let i=e.split("=");t[i[0]]=i[1]}),t})();return new H({target:document.body,data:{urlParams:J,name:"world"}})}();
//# sourceMappingURL=bundle.js.map
